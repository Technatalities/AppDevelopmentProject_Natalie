{% extends "base.html" %}
{% block title %}Suply Walrus - Cart Display{% endblock %}

{% block content %}
<h1 class="display-4">Cart</h1>
<div>
  {% if count == 0 %}
  <p>There are no products in your cart.</p>
  <p> Browse our catalog to add items. </p>
  {% else %}
  <p>There are {{ count }} Products in your Cart.</p>
  <table class="table table-striped">
    <thead>
      <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th>Price</th>
          <th></th>
          <th></th>
          <th></th>
      </tr>
    </thead>
    <tbody>
      {% for item in cart.get_items() %}
        <tr>
            <td>{{ item.get_product().get_name() }}</td>
            <td>
                <a class="btn btn-primary" href="/sub_quantity/{{item.get_product().get_product_id()}}" role="button">-</a>
                {{item.get_quantity() }}
                <a class="btn btn-primary" href="/add_quantity/{{item.get_product().get_product_id()}}" role="button">+</a>
            </td>
            <td> ${{ item.get_product().get_price() }}</td>
            <td> <a class="btn btn-danger" href="/remove_from_cart/{{item.get_product().get_product_id()}}" role="button"> Remove </a></td>
        </tr>

        <tr>
            <td> Total Price: {{ tot_price }}</td>
            <td><a class="btn btn-success" href="/makePayment" role="button"> CheckOut</a></td>
          </tr>
      {% endfor %}
    </tbody>
  </table>
    {% endif %}
</div>
{% endblock %}